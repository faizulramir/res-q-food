<ion-header class="ion-no-border">
  <ion-toolbar style="--background: #C20C62; --color: white;">
    <ion-title>
      Create New Post
    </ion-title>
    <ion-buttons slot="end" class="ion-padding" (click)="doChecking()">
      <b>POST</b>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-item lines="none" *ngIf="user" style="padding-top: 20px;">
    <ion-avatar slot="start">
      <img [src]="user.pic ? user.pic : 'https://ionicframework.com/docs/img/demos/avatar.svg'" />
    </ion-avatar>
    <ion-label>{{ user.username }}</ion-label>
  </ion-item>

  <ion-item style="padding-top: 20px;" lines="none">
    <ion-textarea [(ngModel)]="post.detail" name="detail" style="padding-left: 10px; padding-right: 10px; background: rgb(128, 128, 128, 0.1); border-radius: 5px;" rows="5" placeholder="Enter food details"></ion-textarea>
  </ion-item>

  <div class="notis" style="padding-top: 20px;">
    <ion-item lines="none">
      <ion-label>
        <ion-row>
          <ion-col>
            Food Quantity
          </ion-col>
          <ion-col style="text-align: right;">
            {{post.quantity}} person
          </ion-col>
        </ion-row>
      </ion-label>
    </ion-item>
    
    <ion-item>
      <ion-range
        (ionKnobMoveEnd)="onIonKnobMoveEnd($event)"
        (ionKnobMoveStart)="onIonKnobMoveStart($event)"
        [value]="post.quantity"
        [min]="1"
        [max]="100"
        [pin]="true"
        [ticks]="true"
      ></ion-range>
    </ion-item>
  </div>
  
  <ion-item>
    <ion-label>Time Limit</ion-label>
    <ion-datetime [(ngModel)]="post.time" name="time" presentation="time"></ion-datetime>
  </ion-item>
  
  <ion-item lines="none" style="text-align: center;">
    <ion-label><b>Address</b></ion-label>
  </ion-item>

  <ion-item lines="none">
    <ion-checkbox (ionChange)="userCurrent($event)">Use my current address</ion-checkbox>
  </ion-item>

  <div class="pickup">
    <ion-item lines="none">
      <ion-label>Address</ion-label>
    </ion-item>
    <ion-item lines="none">
      <ion-textarea [(ngModel)]="post.address" name="address" style="padding-left: 10px; padding-right: 10px; background: rgb(128, 128, 128, 0.1); border-radius: 5px;" rows="5" placeholder="Enter Your Address"></ion-textarea>
    </ion-item>
  </div>
  <hr>

  <div class="img-container" (click)="takePicture()">
    <img [src]="post.pic" />

    <div class="img-icon">
      <p style="margin: 10px;">Click to upload image</p>
    </div>
  </div>
  <ion-item style="text-align: center; padding-top: 10px;" lines="none">
    <ion-button style="width: 100%; --background: #C20C62; --color: white;" size="large" (click)="doChecking()">POST</ion-button>
  </ion-item>
</ion-content>
